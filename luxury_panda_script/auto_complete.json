{
    "script" : {
        "lang":"mustache",
        "source":"{\n      \"size\": {{view}}{{^view}}1{{/view}},\n      \"from\": {{from}}{{^from}}0{{/from}},\n      \"query\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"match\": {\n                \"brands_trim\": {\n                  \"query\": \"{{keyword}}\",\n                  \"operator\": \"and\"\n                }\n              }\n            },\n            {\n              \"match\" : {\n                \"is_brand\" : {\n                  \"query\" : \"{{is_brand}}\"\n                }\n              }\n            }\n          ],\n          \"should\": [\n            {\n              \"match\": {\n                \"brands\": {\n                  \"query\": \"{{keyword}}\",\n                  \"operator\": \"and\",\n                  \"boost\": 100\n       }\n              }\n            },\n            {\n              \"match\": {\n                \"brands.standard\": {\n                  \"query\": \"{{keyword}}\",\n                  \"operator\": \"and\",\n                  \"boost\": 100\n                }\n              }\n            }\n          ]\n        }\n      },\n      \"highlight\" : {\n        \"fields\" : {\n          \"brands\" : {\"pre_tags\" : [\"<span>\"], \"post_tags\" : [\"</span>\"]}\n        }\n      },\n      \"_source\" : [\"brands\"]\n    }\n"
    }   
}